{"version":3,"sources":["modules/Input/index.js","modules/Input/Input.js","hooks/useMap.js","hooks/useGoogle.js","modules/MainForm/AutoCompleteInput.js","modules/MainForm/MainForm.js","modules/MainForm/index.js","hooks/usePlaces.js","modules/Map/index.js","modules/Map/Map.js","modules/Rating/index.js","modules/Rating/Rating.js","modules/Marker/MarkerDetails/index.js","hooks/useInfoWindow.js","modules/Marker/MarkerDetails/MarkerDetails.js","modules/Marker/index.js","modules/Marker/Marker.js","hooks/useMarker.js","modules/PlaceDetails/WikipediaSection.js","modules/PlaceDetails/RatingSection.js","modules/PlaceDetails/index.js","modules/PlaceDetails/PlaceDetails.js","lib/createAction.js","lib/querystring.js","lib/wikipedia.js","hooks/useHomeReducer.js","pages/Home/index.js","lib/google-maps.js","pages/Home/Home.js","serviceWorker.js","index.js","App.js"],"names":["Input","React","forwardRef","_ref","ref","className","rest","Object","objectWithoutProperties","react_default","a","createElement","assign","concat","MapsContext","createContext","MapsContextProvider","Provider","useMap","useContext","GoogleContext","GoogleContextProvider","useGoogle","defaultOptions","types","AutoCompleteInput","onPlaceChanged","_ref$options","options","google","inputRef","useRef","autocomplete","map","useEffect","current","maps","places","Autocomplete","bindTo","autocompleteLsr","addListener","handlePlaceChanged","event","removeListener","place","getPlace","modules_Input","fields","MainForm","onPlacesResult","_useState","useState","PlacesService","_useState2","slicedToArray","placesService","setPlacesService","usePlaces","search","setSearch","queryPlaces","query","request","bounds","getBounds","textSearch","results","status","PlacesServiceStatus","OK","ZERO_RESULTS","alert","onSubmit","e","preventDefault","MainForm_AutoCompleteInput","placeholder","geometry","name","onChange","target","value","type","Map","_","Rating","rate","_ref$max","max","percentage","Math","round","style","width","MarkerDetails","infoWindow","photoUrl","_invoke","isOpenNow","_get","alt","src","rating","modules_Rating","undefined","Popup","useInfoWindow","_google$maps$OverlayV","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","apply","arguments","inherits","createClass","key","getPanes","floatPane","appendChild","anchor","parentElement","removeChild","marker","setMap","node","pixelOffset","document","classList","add","stopEventPropagation","divPosition","getProjection","fromLatLngToDivPixel","getPosition","x","anchorPoint","y","display","abs","left","top","cursor","forEach","addEventListener","stopPropagation","OverlayView","definePopupClass","Marker","location","onClick","infoNode","animation","Animation","DROP","setPosition","setVisible","useMarker","clickLsr","mouseOverLsr","handleMouseOver","mouseOutLsr","handleMouseOut","ReactDOM","render","Marker_MarkerDetails","setContent","open","close","WikipediaSection","nearbyWikipediaPages","length","page","pageid","title","href","RatingSection","PlaceDetails","onClose","role","aria-label","aria-modal","formatted_address","createAction","payload","querystring","encode","obj","keys","reduce","qs","index","encodeURI","headers","Content-type","Accept","_callee","lat","lng","gscoord","response","regenerator_default","wrap","_context","prev","next","action","list","gsradius","gslimit","origin","format","fetch","sent","abrupt","json","stop","MAP_INIT","SEARCH_RESULT","PLACE_SELECTED","HIDE_PLACE_DETAILS","actions","initMap","searchResult","placeSelected","hidePlaceDetails","selectors","getMap","state","getShowPlaceDetails","showPlaceDetails","getPlaceSelected","getSearchResults","searchResults","center","zoom","initialState","reducer","objectSpread","useHomeReducer","mapRef","_useReducer","useReducer","_useReducer2","dispatch","viewport","fitBounds","setCenter","setZoom","mapLsr","_x","_x2","_getNearbyPages","wikipedia","then","Home","googleLoader","_useHomeReducer","_useHomeReducer2","modules_MainForm","modules_Map","modules_Marker","reference","handleMarkerClick","react_transition_group","in","timeout","classNames","unmountOnExit","modules_PlaceDetails","libraries","isLocalhost","Boolean","window","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","catch","error","setGoogle","Promise","resolve","_initMap","tag","process","join","defer","async","body","pages_Home","getElementById","URL","contentType","get","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"8OAEeA,SCEDC,IAAMC,WAAW,SAAAC,EAAyBC,GAAQ,IAA9BC,EAA8BF,EAA9BE,UAAcC,EAAgBC,OAAAC,EAAA,EAAAD,CAAAJ,EAAA,eAC9D,OAAOM,EAAAC,EAAAC,cAAA,QAAAJ,OAAAK,OAAA,CAAOR,IAAKA,EAAKC,UAAS,SAAAQ,OAAWR,IAAiBC,OCHlDQ,EAAcb,IAAMc,gBAEpBC,EAAsBF,EAAYG,SAEhC,SAASC,IAEtB,OADYC,qBAAWL,GCLlB,IAAMM,EAAgBnB,IAAMc,gBAEtBM,EAAwBD,EAAcH,SAEpC,SAASK,IAEtB,OADeH,qBAAWC,GCF5B,IAAMG,EAAiB,CACrBC,MAAO,CAAC,kBA4CKC,EAzCW,SAAAtB,GAKpB,IAJJuB,EAIIvB,EAJJuB,eACArB,EAGIF,EAHJE,UAGIsB,EAAAxB,EAFJyB,eAEI,IAAAD,EAFMJ,EAENI,EADDrB,EACCC,OAAAC,EAAA,EAAAD,CAAAJ,EAAA,0CACE0B,EAASP,IACTQ,EAAWC,mBACXC,EAAeD,mBACfE,EAAMf,IAEZgB,oBAAU,WACRF,EAAaG,QAAU,IAAIN,EAAOO,KAAKC,OAAOC,aAC5CR,EAASK,QACTP,IAED,IAEHM,oBAAU,kBAAMF,EAAaG,QAAQI,OAAO,SAAUN,IAAM,CAACA,IAE7DC,oBAAU,WACR,IAAMM,EAAkBR,EAAaG,QAAQM,YAC3C,gBACAC,GAGF,OAAO,kBAAMb,EAAOO,KAAKO,MAAMC,eAAeJ,MAGhD,IAAME,EAAqB,WACzB,IAAMG,EAAQb,EAAaG,QAAQW,WACnCpB,EAAemB,IAGjB,OACEpC,EAAAC,EAAAC,cAAA,OAAKN,UAAWA,GACdI,EAAAC,EAAAC,cAACoC,EAADxC,OAAAK,OAAA,CAAOR,IAAK0B,GAAcxB,YCpChC,IAAM0C,EAAS,CACb,SACA,oBACA,OACA,SACA,gBACA,YCbaC,EDgBE,SAAA9C,GAAwB,IAArB+C,EAAqB/C,EAArB+C,eACZrB,EAASP,IACTW,EAAMf,IACNmB,EEjBO,SAAmBJ,GAChC,IAAMJ,EAASP,IADsB6B,EAEKC,mBACxC,IAAIvB,EAAOO,KAAKC,OAAOgB,cAAcpB,IAHFqB,EAAA/C,OAAAgD,EAAA,EAAAhD,CAAA4C,EAAA,GAE9BK,EAF8BF,EAAA,GAEfG,EAFeH,EAAA,GAUrC,OAJApB,oBAAU,kBAAMuB,EAAiB,IAAI5B,EAAOO,KAAKC,OAAOgB,cAAcpB,KAAO,CAC3EA,IAGKuB,EFOQE,CAAUzB,GAHckB,EAITC,mBAAS,MAJAE,EAAA/C,OAAAgD,EAAA,EAAAhD,CAAA4C,EAAA,GAI/BQ,EAJ+BL,EAAA,GAIvBM,EAJuBN,EAAA,GAMjCO,EAAc,SAAAC,GAClB,IAAIC,EAAU,CAAED,QAAOd,SAAQgB,OAAQ/B,EAAIgC,aAC3C5B,EAAO6B,WAAWH,EAAS,SAACI,EAASC,GAC/BA,IAAWvC,EAAOO,KAAKC,OAAOgC,oBAAoBC,GACpDpB,EAAeiB,GACNC,IAAWvC,EAAOO,KAAKC,OAAOgC,oBAAoBE,cAC3DC,MAAM,iBAuBZ,OACE/D,EAAAC,EAAAC,cAAA,QAAMN,UAAU,YAAYoE,SANT,SAAAC,GACnBA,EAAEC,iBACFd,EAAYF,KAKVlD,EAAAC,EAAAC,cAACiE,EAAD,CACEvE,UAAU,yBACVwE,YAAY,mCACZnD,eAvBqB,SAAAmB,GACpBA,EAAMiC,SAKX5B,EAAe,CAACL,IAJdgB,EAAYhB,EAAMkC,OAsBhBC,SAfqB,SAACN,GAC1Bd,EAAUc,EAAEO,OAAOC,UAgBjBzE,EAAAC,EAAAC,cAAA,UAAQN,UAAU,kCAAkC8E,KAAK,aG3DhDC,SCEFnF,IAAMC,WAAW,SAACmF,EAAGjF,GAChC,OAAOK,EAAAC,EAAAC,cAAA,OAAKP,IAAKA,EAAKC,UAAU,6DCHnBiF,MCEA,SAAAnF,GAAmC,IAAjBoF,EAAiBpF,EAAjBoF,KAAiBC,EAAArF,EAAXsF,WAAW,IAAAD,EAAL,EAAKA,EAC1CE,EAAaC,KAAKC,MAAML,EAAOE,EAAM,KAE3C,OACEhF,EAAAC,EAAAC,cAAA,OAAKN,UAAU,UACbI,EAAAC,EAAAC,cAAA,OAAKN,UAAU,kBAAkBwF,MAAO,CAAEC,MAAOJ,EAAa,MAC5DjF,EAAAC,EAAAC,cAAA,sBACAF,EAAAC,EAAAC,cAAA,sBACAF,EAAAC,EAAAC,cAAA,sBACAF,EAAAC,EAAAC,cAAA,sBACAF,EAAAC,EAAAC,cAAA,uBAEFF,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,sBACAF,EAAAC,EAAAC,cAAA,sBACAF,EAAAC,EAAAC,cAAA,sBACAF,EAAAC,EAAAC,cAAA,sBACAF,EAAAC,EAAAC,cAAA,yBCnBOoF,ICAXC,EDAWD,EEKA,SAAA5F,GAAkC,IAAT0C,EAAS1C,EAAT0C,MAChCoD,EAAWC,IAAQrD,EAAO,oBAC1BsD,EAAYC,IAAKvD,EAAO,0BAE9B,OACEpC,EAAAC,EAAAC,cAAA,OAAKN,UAAU,kBACbI,EAAAC,EAAAC,cAAA,OAAKN,UAAU,yBACZ4F,GAAYxF,EAAAC,EAAAC,cAAA,OAAK0F,IAAI,cAAcC,IAAKL,IACzCxF,EAAAC,EAAAC,cAAA,UAAKkC,EAAMkC,OAGZlC,EAAM0D,QAAU9F,EAAAC,EAAAC,cAAA,OAAKN,UAAU,0BAAyBI,EAAAC,EAAAC,cAAC6F,EAAD,CAAQjB,KAAM1C,EAAM0D,SAA5D,IAAuE1D,EAAM0D,OAA7E,UACFE,IAAdN,GAA2B1F,EAAAC,EAAAC,cAAA,sBAAcwF,EAAY,MAAQ,MAPhE,+DDREO,oCA+ES,SAASC,IACtB,IAAM9E,EAASP,IAMf,OALK0E,KA/EP,SAA0BnE,GACxB6E,EAAK,SAAAE,GAAA,SAAAF,IAAA,OAAAnG,OAAAsG,EAAA,EAAAtG,CAAAuG,KAAAJ,GAAAnG,OAAAwG,EAAA,EAAAxG,CAAAuG,KAAAvG,OAAAyG,EAAA,EAAAzG,CAAAmG,GAAAO,MAAAH,KAAAI,YAAA,OAAA3G,OAAA4G,EAAA,EAAA5G,CAAAmG,EAAAE,GAAArG,OAAA6G,EAAA,EAAA7G,CAAAmG,EAAA,EAAAW,IAAA,QAAAnC,MAAA,WAGD4B,KAAKQ,WAAWC,UAAUC,YAAYV,KAAKW,UAH1C,CAAAJ,IAAA,WAAAnC,MAAA,WAOG4B,KAAKW,OAAOC,eACdZ,KAAKW,OAAOC,cAAcC,YAAYb,KAAKW,UAR5C,CAAAJ,IAAA,OAAAnC,MAAA,SAYEjD,EAAK2F,GACRd,KAAKe,OAAO5F,GAEZ6E,KAAKc,OAASA,IAfb,CAAAP,IAAA,QAAAnC,MAAA,WAmBD4B,KAAKe,OAAO,QAnBX,CAAAR,IAAA,aAAAnC,MAAA,SAsBQ4C,GACT,IAAIC,EAAcC,SAASrH,cAAc,OACzCoH,EAAYE,UAAUC,IAAI,uBAC1BH,EAAYP,YAAYM,GAExBhB,KAAKW,OAASO,SAASrH,cAAc,OACrCmG,KAAKW,OAAOQ,UAAUC,IAAI,oBAC1BpB,KAAKW,OAAOD,YAAYO,GAExBjB,KAAKqB,yBA/BJ,CAAAd,IAAA,OAAAnC,MAAA,WAmCD,IAAMkD,EAActB,KAAKuB,gBAAgBC,qBACvCxB,KAAKc,OAAOW,eAEdH,EAAYI,GAAK1B,KAAKc,OAAOa,YAAYD,EACzCJ,EAAYM,GAAK5B,KAAKc,OAAOa,YAAYC,EAEzC,IAAIC,EACFhD,KAAKiD,IAAIR,EAAYI,GAAK,KAAQ7C,KAAKiD,IAAIR,EAAYM,GAAK,IACxD,QACA,OAEU,UAAZC,IACF7B,KAAKW,OAAO5B,MAAMgD,KAAOT,EAAYI,EAAI,KACzC1B,KAAKW,OAAO5B,MAAMiD,IAAMV,EAAYM,EAAI,MAEtC5B,KAAKW,OAAO5B,MAAM8C,UAAYA,IAChC7B,KAAKW,OAAO5B,MAAM8C,QAAUA,KAnD7B,CAAAtB,IAAA,uBAAAnC,MAAA,WAwDD,IAAIuC,EAASX,KAAKW,OAClBA,EAAO5B,MAAMkD,OAAS,OAEtB,CACE,QACA,WACA,cACA,QACA,YACA,aACA,eACAC,QAAQ,SAASrG,GACjB8E,EAAOwB,iBAAiBtG,EAAO,SAAS+B,GACtCA,EAAEwE,0BArELxC,EAAA,CAAiB7E,EAAOO,KAAK+G,aA+EhCC,CAAiBvH,GACjBmE,EAAa,IAAIU,GAGZV,EExFMqD,MCOA,SAAAlJ,GAA8C,IAA5B0C,EAA4B1C,EAA5B0C,MAAOyG,EAAqBnJ,EAArBmJ,SAAUC,EAAWpJ,EAAXoJ,QAC1CC,EAAWzH,iBAAOiG,SAASrH,cAAc,QACzCqF,EAAaW,IACb9E,EAASP,IACTW,EAAMf,IACN0G,ECXO,SAAmB3F,EAAKqH,GACrC,IAAMzH,EAASP,IACTsG,EAAS7F,iBACb,IAAIF,EAAOO,KAAKiH,OAAO,CACrBpH,MACAwH,UAAW5H,EAAOO,KAAKsH,UAAUC,QAcrC,OAVAzH,oBAAU,kBAAM0F,EAAOzF,QAAQ0F,OAAO5F,IAAM,CAACA,IAC7CC,oBAAU,kBAAM,kBAAM0F,EAAOzF,QAAQ0F,OAAO,QAAO,IAEnD3F,oBAAU,WACJoH,GACF1B,EAAOzF,QAAQyH,YAAYN,GAE7B1B,EAAOzF,QAAQ0H,aAAaP,IAC3B,CAACA,IAEG1B,EDRQkC,CAAU7H,EAAKqH,GAE9BpH,oBAAU,WACR,IAAM6H,EAAWlI,EAAOO,KAAKO,MAAMF,YACjCmF,EAAOzF,QACP,QACAoH,GAGIS,EAAenI,EAAOO,KAAKO,MAAMF,YACrCmF,EAAOzF,QACP,YACA8H,GAGIC,EAAcrI,EAAOO,KAAKO,MAAMF,YACpCmF,EAAOzF,QACP,WACAgI,GAGF,OAAO,WACLtI,EAAOO,KAAKO,MAAMC,eAAemH,GACjClI,EAAOO,KAAKO,MAAMC,eAAeoH,GACjCnI,EAAOO,KAAKO,MAAMC,eAAesH,MAIrC,IAAMD,EAAkB,WAEtBG,IAASC,OAAO5J,EAAAC,EAAAC,cAAC2J,EAAD,CAAezH,MAAOA,IAAW2G,EAASrH,SAE1D6D,EAAWuE,WAAWf,EAASrH,SAC/B6D,EAAWwE,KAAKvI,EAAK2F,EAAOzF,UAGxBgI,EAAiB,WACrBnE,EAAWyE,SAGb,OAAO,aEpDM,SAASC,EAATvK,GAAoD,IAAxBwK,EAAwBxK,EAAxBwK,qBACzC,OAAKA,EAKHlK,EAAAC,EAAAC,cAAA,WAASN,UAAU,4BACjBI,EAAAC,EAAAC,cAAA,qCAEiC,IAAhCgK,EAAqBC,OACpB,kBAEAnK,EAAAC,EAAAC,cAAA,UACGgK,EAAqB1I,IAAI,SAAA4I,GAAI,OAC5BpK,EAAAC,EAAAC,cAAA,MAAI0G,IAAKwD,EAAKC,QACZrK,EAAAC,EAAAC,cAAA,KAAGoK,MAAOF,EAAKE,MAAOC,KAAI,kCAAAnK,OAAoCgK,EAAKC,SAChED,EAAKE,YAdX,KCAI,SAASE,EAAT9K,GAAmC,IAAVoG,EAAUpG,EAAVoG,OACtC,YAAeE,IAAXF,EACK,KAIP9F,EAAAC,EAAAC,cAAA,WAASN,UAAU,yBACjBI,EAAAC,EAAAC,cAAC6F,EAAD,CAAQjB,KAAMgB,IADhB,KAC6BA,EAD7B,KCRW2E,MCKA,SAAA/K,GAA0C,IAAlB0C,EAAkB1C,EAAlB0C,MAAOsI,EAAWhL,EAAXgL,QAC5C,IAAKtI,EACH,OAAO,KAGT,IAAMoD,EAAWC,IAAQrD,EAAO,oBAEhC,OACEpC,EAAAC,EAAAC,cAAA,OACEyK,KAAK,SACLC,aAAA,GAAAxK,OAAegC,EAAMkC,KAArB,YACAuG,aAAW,OACXjL,UAAU,iBAEVI,EAAAC,EAAAC,cAAA,UAAQ0K,aAAW,QAAQhL,UAAU,oCAAoCkJ,QAAS4B,IAClF1K,EAAAC,EAAAC,cAAA,OAAKN,UAAU,wBACZ4F,GAAYxF,EAAAC,EAAAC,cAAA,OAAK0F,IAAI,cAAcC,IAAKL,IACzCxF,EAAAC,EAAAC,cAAA,UAAKkC,EAAMkC,OAGbtE,EAAAC,EAAAC,cAAA,OAAKN,UAAU,0BACbI,EAAAC,EAAAC,cAAA,eAAUkC,EAAM0I,mBAEhB9K,EAAAC,EAAAC,cAACsK,EAAD,CAAe1E,OAAQ1D,EAAM0D,SAE7B9F,EAAAC,EAAAC,cAAC+J,EAAD,CAAkBC,qBAAsB9H,EAAM8H,iCChCvC,SAASa,EAAarG,GACnC,OAAO,SAACsG,GAAD,MAAc,CAAEtG,OAAMsG,yCCDhBC,EAAA,CACbC,OAAQ,SAASC,GACf,IAAMC,EAAOtL,OAAOsL,KAAKD,GACzB,OAAOC,EAAKC,OAAO,SAACC,EAAI1E,EAAK2E,GAC3B,IAAM9G,EAAQ+G,UAAUL,EAAIvE,IAO5B,OANA0E,GAAE,GAAAlL,OAAOwG,EAAP,KAAAxG,OAAcqE,GAEZ8G,EAAQH,EAAKjB,OAAS,IACxBmB,GAAM,KAGDA,GACN,OCVDxK,EAAiB,CACrB2K,QAAS,CACPC,eAAgB,mBAChBC,OAAU,gEAIP,SAAAC,EAA8BC,EAAKC,GAAnC,IAAAC,EAAAT,EAAAU,EAAA,OAAAC,EAAAhM,EAAAiM,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACCN,EADD,GAAA3L,OACcyL,EADd,KAAAzL,OACqB0L,GACpBR,EAAKL,EAAYC,OAAO,CAC5BoB,OAAQ,QACRC,KAAM,YACNR,UACAS,SAAU,IACVC,QAAS,EACTC,OAAQ,IACRC,OAAQ,SATLR,EAAAE,KAAA,EAWkBO,MAAM,qCAAqCtB,EAAIxK,GAXjE,cAWCkL,EAXDG,EAAAU,KAAAV,EAAAW,OAAA,SAYEd,EAASe,QAZX,wBAAAZ,EAAAa,SAAApB,EAAAvF,gCCFP,IAAM4G,EAAW,WACXC,EAAgB,gBAChBC,EAAiB,iBACjBC,EAAqB,qBAEdC,EAAU,CACrBC,QAASvC,EAAakC,GACtBM,aAAcxC,EAAamC,GAC3BM,cAAezC,EAAaoC,GAC5BM,iBAAkB1C,EAAaqC,IAGpBM,EAAY,CACvBC,OAAQ,SAAAC,GAAK,OAAIA,EAAMpM,KACvBqM,oBAAqB,SAAAD,GAAK,OAAIA,EAAME,kBACpCC,iBAAkB,SAAAH,GAAK,OAAIA,EAAMJ,eACjCQ,iBAAkB,SAAAJ,GAAK,OAAIA,EAAMK,gBAG7B9M,GAAU,CACd+M,OAAQ,CAAErC,KAAM,OAAQC,KAAM,QAC9BqC,KAAM,IAGFC,GAAe,CACnB5M,IAAK,KACLyM,cAAe,GACfT,cAAe,KACfM,kBAAkB,GAGpB,SAASO,GAAQT,EAAOtB,GACtB,OAAQA,EAAO5H,MACb,KAAKuI,EACH,OAAOnN,OAAAwO,EAAA,EAAAxO,CAAA,GAAK8N,EAAZ,CAAmBpM,IAAK8K,EAAOtB,UACjC,KAAKkC,EACH,OAAOpN,OAAAwO,EAAA,EAAAxO,CAAA,GAAK8N,EAAZ,CAAmBK,cAAe3B,EAAOtB,UAC3C,KAAKmC,EACH,OAAOrN,OAAAwO,EAAA,EAAAxO,CAAA,GACF8N,EADL,CAEEJ,cAAelB,EAAOtB,QACtB8C,kBAAkB,IAEtB,KAAKV,EACH,OAAOtN,OAAAwO,EAAA,EAAAxO,CAAA,GAAK8N,EAAZ,CAAmBE,kBAAkB,IACvC,QACE,OAAOF,GAIE,SAASW,GAAeC,GACrC,IAAMpN,EAASP,IAD8B4N,EAEnBC,qBAAWL,GAASD,IAFDO,EAAA7O,OAAAgD,EAAA,EAAAhD,CAAA2O,EAAA,GAEtCb,EAFsCe,EAAA,GAE/BC,EAF+BD,EAAA,GAGvCnN,EAAMkM,EAAUC,OAAOC,GACvBL,EAAeG,EAAUM,iBAAiBJ,GAC1CJ,EAAgBE,EAAUK,iBAAiBH,GAmDjD,OAhDAnM,oBAAU,WACRmN,EAASvB,EAAQC,QAAQ,IAAIlM,EAAOO,KAAKgD,IAAI6J,EAAO9M,QAASP,OAC5D,IAEHM,oBACE,WAE8B,IAAxB8L,EAAapD,SACXoD,EAAa,GAAGlJ,SAASwK,SAC3BrN,EAAIsN,UAAUvB,EAAa,GAAGlJ,SAASwK,WAEvCrN,EAAIuN,UAAUxB,EAAa,GAAGlJ,SAASwE,UACvCrH,EAAIwN,QAAQ,OAIlB,CAACzB,IAGH9L,oBAAU,WACR,GAAKD,EAAL,CAEA,IAAIyN,EAASzN,EAAIQ,YAAY,QAAS,kBACpC4M,EAASvB,EAAQI,sBAGnB,OAAO,kBAAMrM,EAAOO,KAAKO,MAAMC,eAAe8M,OAGhDxN,oBACE,WACE,GAAI+L,IAAkBA,EAActD,qBAAsB,CACxD,IAAMrB,EAAW2E,EAAcnJ,SAASwE,UDxFzC,SAAPqG,EAAAC,GAAA,OAAAC,EAAA5I,MAAAH,KAAAI,YCyFQ4I,CACkBxG,EAASgD,MAAOhD,EAASiD,OACxCwD,KAAK,SAAAtD,GACJ4C,EACEvB,EAAQG,cAAR1N,OAAAwO,EAAA,EAAAxO,CAAA,GACK0N,EADL,CAEEtD,qBAAsBvE,IAAKqG,EAAU,2BAMjD,CAACwB,IAGI,CAACI,EAAOgB,GC/GFW,ICAXC,GDAWD,GEUA,WACb,IAAMf,EAASlN,iBAAO,MADOmO,EAEHlB,GAAeC,GAFZkB,EAAA5P,OAAAgD,EAAA,EAAAhD,CAAA2P,EAAA,GAEtB7B,EAFsB8B,EAAA,GAEfd,EAFec,EAAA,GAgB7B,OACE1P,EAAAC,EAAAC,cAACK,EAAD,CAAqBkE,MAAOiJ,EAAUC,OAAOC,IAC3C5N,EAAAC,EAAAC,cAAA,OAAKN,UAAU,QACZ8N,EAAUC,OAAOC,IAChB5N,EAAAC,EAAAC,cAACyP,EAAD,CAAUlN,eAhBS,SAAAb,GACzBgN,EAASvB,EAAQE,aAAa3L,OAkB1B5B,EAAAC,EAAAC,cAAC0P,EAAD,CAAKjQ,IAAK6O,IAETd,EAAUM,iBAAiBJ,GAAOpM,IAAI,SAAAY,GAAK,OAC1CpC,EAAAC,EAAAC,cAAC2P,EAAD,CACEzN,MAAOA,EACPyG,SAAUzG,EAAMiC,SAASwE,SACzBjC,IAAKxE,EAAM0N,UACXhH,QAtBgB,SAAA1G,GAAK,OAAI,WACjCwM,EAASvB,EAAQG,cAAcpL,KAqBd2N,CAAkB3N,OAI/BpC,EAAAC,EAAAC,cAAC8P,EAAA,cAAD,CACEC,GAAIvC,EAAUG,oBAAoBD,GAClCsC,QAAS,IACTC,WAAW,2BACXC,eAAa,GAEbpQ,EAAAC,EAAAC,cAACmQ,EAAD,CACEjO,MAAOsL,EAAUK,iBAAiBH,GAClClD,QA9BsB,WAC9BkE,EAASvB,EAAQI,2BDzBf6C,GAAY,CAAC,UEYnB,IAAMC,GAAcC,QACW,cAA7BC,OAAO5H,SAAS6H,UAEe,UAA7BD,OAAO5H,SAAS6H,UAEhBD,OAAO5H,SAAS6H,SAASC,MACvB,2DAsCN,SAASC,GAAgBC,EAAOC,GAC9BC,UAAUC,cACPC,SAASJ,GACTvB,KAAK,SAAA4B,GACJA,EAAaC,cAAgB,WAC3B,IAAMC,EAAmBF,EAAaG,WACd,MAApBD,IAGJA,EAAiBE,cAAgB,WACA,cAA3BF,EAAiBxD,QACfmD,UAAUC,cAAcO,YAI1BC,QAAQC,IACN,gHAKEX,GAAUA,EAAOY,UACnBZ,EAAOY,SAASR,KAMlBM,QAAQC,IAAI,sCAGRX,GAAUA,EAAOa,WACnBb,EAAOa,UAAUT,UAO5BU,MAAM,SAAAC,GACLL,QAAQK,MAAM,4CAA6CA,KC1FjElI,IAASC,OAAO5J,EAAAC,EAAAC,cCCD,WAAe,IAAAwC,EACAC,qBADAE,EAAA/C,OAAAgD,EAAA,EAAAhD,CAAA4C,EAAA,GACrBtB,EADqByB,EAAA,GACbiP,EADajP,EAAA,GAO5B,OAJApB,oBAAU,YJLL+N,KACHA,GAAe,IAAIuC,QAAQ,SAAAC,GACzBvB,OAAOwB,SAAW,kBAAMD,EAAQvB,OAAOrP,SAEvC,IAAM8Q,EAAM3K,SAASrH,cAAc,UACnCgS,EAAIrM,IAAJ,+CAAAzF,OACE+R,0CADF,eAAA/R,OAEckQ,GAAU8B,KAAK,KAF7B,sBAGAF,EAAIG,OAAQ,EACZH,EAAII,OAAQ,EACZ/K,SAASgL,KAAKxL,YAAYmL,MAIvB1C,IIREF,KAAKwC,IACX,IAGD9R,EAAAC,EAAAC,cAACU,EAAD,CAAuB6D,MAAOrD,GAC1BA,EAAqBpB,EAAAC,EAAAC,cAACsS,GAAD,MAAZ,YDVD,MAASjL,SAASkL,eAAe,SDgB1C,SAAkB3B,GACvB,GAA6C,kBAAmBC,UAAW,CAGzE,GADkB,IAAI2B,IAAIP,yBAAwB1B,OAAO5H,SAAS0B,MACpDmC,SAAW+D,OAAO5H,SAAS6D,OAIvC,OAGF+D,OAAOjI,iBAAiB,OAAQ,WAC9B,IAAMqI,EAAK,GAAAzQ,OAAM+R,yBAAN,sBAEP5B,IAgEV,SAAiCM,EAAOC,GAEtClE,MAAMiE,GACHvB,KAAK,SAAAtD,GAEJ,IAAM2G,EAAc3G,EAASP,QAAQmH,IAAI,gBAEnB,MAApB5G,EAASrI,QACO,MAAfgP,IAA8D,IAAvCA,EAAYE,QAAQ,cAG5C9B,UAAUC,cAAc8B,MAAMxD,KAAK,SAAA4B,GACjCA,EAAa6B,aAAazD,KAAK,WAC7BmB,OAAO5H,SAASmK,aAKpBpC,GAAgBC,EAAOC,KAG1Bc,MAAM,WACLJ,QAAQC,IACN,mEArFAwB,CAAwBpC,EAAOC,GAI/BC,UAAUC,cAAc8B,MAAMxD,KAAK,WACjCkC,QAAQC,IACN,+GAMJb,GAAgBC,EAAOC,MCvC/BE","file":"static/js/main.ba9a9ddc.chunk.js","sourcesContent":["import Input from \"./Input\";\n\nexport default Input;\n","import React from \"react\";\n\nimport \"./Input.css\";\n\nconst Input = React.forwardRef(({ className, ...rest }, ref) => {\n  return <input ref={ref} className={`input ${className}`} {...rest} />;\n});\n\nexport default Input;\n","import React, { useContext } from \"react\";\n\nexport const MapsContext = React.createContext();\n\nexport const MapsContextProvider = MapsContext.Provider;\n\nexport default function useMap() {\n  const map = useContext(MapsContext);\n  return map;\n}\n","import React, { useContext } from \"react\";\n\nexport const GoogleContext = React.createContext();\n\nexport const GoogleContextProvider = GoogleContext.Provider;\n\nexport default function useGoogle() {\n  const google = useContext(GoogleContext);\n  return google;\n}","import React, { useRef, useEffect } from \"react\";\nimport Input from \"../Input\";\nimport useMap from \"../../hooks/useMap\";\nimport useGoogle from \"../../hooks/useGoogle\";\n\nconst defaultOptions = {\n  types: [\"establishment\"]\n};\n\nconst AutoCompleteInput = ({\n  onPlaceChanged,\n  className,\n  options = defaultOptions,\n  ...rest\n}) => {\n  const google = useGoogle();\n  const inputRef = useRef();\n  const autocomplete = useRef();\n  const map = useMap();\n\n  useEffect(() => {\n    autocomplete.current = new google.maps.places.Autocomplete(\n      inputRef.current,\n      options\n    );\n  }, []);\n\n  useEffect(() => autocomplete.current.bindTo(\"bounds\", map), [map]);\n\n  useEffect(() => {\n    const autocompleteLsr = autocomplete.current.addListener(\n      \"place_changed\",\n      handlePlaceChanged\n    );\n\n    return () => google.maps.event.removeListener(autocompleteLsr);\n  });\n\n  const handlePlaceChanged = () => {\n    const place = autocomplete.current.getPlace();\n    onPlaceChanged(place);\n  };\n\n  return (\n    <div className={className}>\n      <Input ref={inputRef} {...rest} />\n    </div>\n  );\n};\n\nexport default AutoCompleteInput;\n","import React, { useState } from \"react\";\n\nimport AutoCompleteInput from \"./AutoCompleteInput\";\n\nimport \"./MainForm.css\";\nimport useMap from \"../../hooks/useMap\";\nimport usePlaces from \"../../hooks/usePlaces\";\nimport useGoogle from \"../../hooks/useGoogle\";\n\nconst fields = [\n  \"photos\",\n  \"formatted_address\",\n  \"name\",\n  \"rating\",\n  \"opening_hours\",\n  \"geometry\"\n];\n\nconst MainForm = ({ onPlacesResult }) => {\n  const google = useGoogle();\n  const map = useMap();\n  const places = usePlaces(map);\n  const [ search, setSearch ] = useState(null);\n\n  const queryPlaces = query => {\n    var request = { query, fields, bounds: map.getBounds() }\n    places.textSearch(request, (results, status) => {\n      if (status === google.maps.places.PlacesServiceStatus.OK) {\n        onPlacesResult(results);\n      } else if (status === google.maps.places.PlacesServiceStatus.ZERO_RESULTS) {\n        alert(\"No results\");\n      }\n    });\n  };\n\n  const handlePlaceChanged = place => {\n    if (!place.geometry) {\n      queryPlaces(place.name);\n      return;\n    }\n\n    onPlacesResult([place]);\n  };\n\n  const handleSearchChange = (e) => {\n    setSearch(e.target.value);\n  }\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    queryPlaces(search);\n  }\n\n  return (\n    <form className=\"main-form\" onSubmit={handleSubmit}>\n      <AutoCompleteInput\n        className=\"main-form__place-input\"\n        placeholder=\"search places with autocomplete!\"\n        onPlaceChanged={handlePlaceChanged}\n        onChange={handleSearchChange}\n      />\n      <button className=\"main-form__submit fas fa-search\" type=\"submit\" />\n    </form>\n  );\n};\n\nexport default MainForm;\n","import MainForm from \"./MainForm\";\n\nexport default MainForm;\n","import { useState, useEffect } from \"react\";\n\nimport useGoogle from \"./useGoogle\";\n\nexport default function usePlaces(map) {\n  const google = useGoogle();\n  const [placesService, setPlacesService] = useState(\n    new google.maps.places.PlacesService(map)\n  );\n\n  useEffect(() => setPlacesService(new google.maps.places.PlacesService(map)), [\n    map\n  ]);\n\n  return placesService;\n}\n","import Map from \"./Map\";\n\nexport default Map;\n","import React from \"react\";\n\nimport \"./Map.css\";\n\nconst Maps = React.forwardRef((_, ref) => {\n  return <div ref={ref} className=\"map\" />;\n});\n\nexport default Maps;\n","import Rating from \"./Rating\";\n\nexport default Rating;","import React from \"react\";\n\nimport \"./Rating.css\";\n\nexport default function Rating({ rate, max = 5 }) {\n  const percentage = Math.round(rate / max * 100);\n\n  return (\n    <div className=\"rating\">\n      <div className=\"rating--colored\" style={{ width: percentage + \"%\" }}>\n        <span>★</span>\n        <span>★</span>\n        <span>★</span>\n        <span>★</span>\n        <span>★</span>\n      </div>\n      <div>\n        <span>★</span>\n        <span>★</span>\n        <span>★</span>\n        <span>★</span>\n        <span>★</span>\n      </div>\n    </div>\n  );\n}\n","import MarkerDetails from \"./MarkerDetails\";\n\nexport default MarkerDetails;","import useGoogle from \"./useGoogle\";\n\nlet infoWindow;\n\nclass Popup {};\n\nfunction definePopupClass(google) {\n  Popup = class extends google.maps.OverlayView {\n    /** Called when the popup is added to the map. */\n    onAdd() {\n      this.getPanes().floatPane.appendChild(this.anchor);\n    }\n\n    onRemove() {\n      if (this.anchor.parentElement) {\n        this.anchor.parentElement.removeChild(this.anchor);\n      }\n    }\n\n    open(map, marker) {\n      this.setMap(map);\n      \n      this.marker = marker;\n    }\n\n    close() {\n      this.setMap(null);\n    }\n\n    setContent(node) {\n      var pixelOffset = document.createElement('div');\n      pixelOffset.classList.add('popup-bubble-anchor');\n      pixelOffset.appendChild(node);\n\n      this.anchor = document.createElement('div');\n      this.anchor.classList.add('popup-tip-anchor');\n      this.anchor.appendChild(pixelOffset);\n\n      this.stopEventPropagation();\n    }\n\n    draw() {\n      const divPosition = this.getProjection().fromLatLngToDivPixel(\n        this.marker.getPosition()\n      );\n      divPosition.x += this.marker.anchorPoint.x;\n      divPosition.y += this.marker.anchorPoint.y;\n      // Hide the popup when it is far out of view.\n      var display =\n        Math.abs(divPosition.x) < 4000 && Math.abs(divPosition.y) < 4000\n          ? \"block\"\n          : \"none\";\n\n      if (display === \"block\") {\n        this.anchor.style.left = divPosition.x + \"px\";\n        this.anchor.style.top = divPosition.y + \"px\";\n      }\n      if (this.anchor.style.display !== display) {\n        this.anchor.style.display = display;\n      }\n    }\n\n    stopEventPropagation() {\n      var anchor = this.anchor;\n      anchor.style.cursor = \"auto\";\n\n      [\n        \"click\",\n        \"dblclick\",\n        \"contextmenu\",\n        \"wheel\",\n        \"mousedown\",\n        \"touchstart\",\n        \"pointerdown\"\n      ].forEach(function(event) {\n        anchor.addEventListener(event, function(e) {\n          e.stopPropagation();\n        });\n      });\n    }\n  }\n}\n\nexport default function useInfoWindow() {\n  const google = useGoogle();\n  if (!infoWindow) {\n    definePopupClass(google);\n    infoWindow = new Popup();\n  }\n\n  return infoWindow;\n}\n","import React from \"react\";\nimport _invoke from \"lodash/invoke\";\nimport _get from \"lodash/get\";\n\nimport \"./MarkerDetails.css\";\nimport Rating from \"../../Rating\";\n\nexport default function MarkerDetails({ place }) {\n  const photoUrl = _invoke(place, \"photos[0].getUrl\");\n  const isOpenNow = _get(place, \"opening_hours.open_now\");\n\n  return (\n    <div className=\"marker-details\">\n      <div className=\"marker-details__cover\">\n        {photoUrl && <img alt=\"place cover\" src={photoUrl} />}\n        <h1>{place.name}</h1>\n      </div>\n\n      {place.rating && <div className=\"marker-details__rating\"><Rating rate={place.rating}/>({place.rating})</div>}\n      {isOpenNow !== undefined && <p>Open now: {isOpenNow ? \"Yes\" : \"No\"}</p>}\n\n      Click to see more!\n    </div>\n  );\n}\n","import Marker from \"./Marker\";\n\nexport default Marker;","import React, { useEffect, useRef } from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport useMap from \"../../hooks/useMap\";\nimport useMarker from \"../../hooks/useMarker\";\nimport useGoogle from \"../../hooks/useGoogle\";\nimport MarkerDetails from \"./MarkerDetails\";\nimport useInfoWindow from \"../../hooks/useInfoWindow\";\n\nexport default function Marker({ place, location, onClick }) {\n  const infoNode = useRef(document.createElement('div'));\n  const infoWindow = useInfoWindow();\n  const google = useGoogle();\n  const map = useMap();\n  const marker = useMarker(map, location);\n\n  useEffect(() => {\n    const clickLsr = google.maps.event.addListener(\n      marker.current,\n      \"click\",\n      onClick\n    );\n\n    const mouseOverLsr = google.maps.event.addListener(\n      marker.current,\n      \"mouseover\",\n      handleMouseOver\n    );\n\n    const mouseOutLsr = google.maps.event.addListener(\n      marker.current,\n      \"mouseout\",\n      handleMouseOut\n    );\n\n    return () => {\n      google.maps.event.removeListener(clickLsr);\n      google.maps.event.removeListener(mouseOverLsr);\n      google.maps.event.removeListener(mouseOutLsr);\n    };\n  });\n\n  const handleMouseOver = () => {\n\n    ReactDOM.render(<MarkerDetails place={place} />, infoNode.current);\n\n    infoWindow.setContent(infoNode.current);\n    infoWindow.open(map, marker.current);\n  }\n\n  const handleMouseOut = () => {\n    infoWindow.close();\n  }\n\n  return null;\n}","import { useRef, useEffect } from \"react\";\nimport useGoogle from \"./useGoogle\";\n\nexport default function useMarker(map, location) {\n  const google = useGoogle();\n  const marker = useRef(\n    new google.maps.Marker({\n      map,\n      animation: google.maps.Animation.DROP\n    })\n  );\n\n  useEffect(() => marker.current.setMap(map), [map]);\n  useEffect(() => () => marker.current.setMap(null), []);\n\n  useEffect(() => {\n    if (location) {\n      marker.current.setPosition(location);\n    }\n    marker.current.setVisible(!!location);\n  }, [location]);\n\n  return marker;\n}\n","import React from \"react\";\n\nexport default function WikipediaSection({ nearbyWikipediaPages }) {\n  if (!nearbyWikipediaPages) {\n    return null;\n  }\n\n  return (\n    <section className=\"place-details__wikipedia\">\n      <h2>Nearby Wikipedia pages:</h2>\n\n      {nearbyWikipediaPages.length === 0 ? (\n        \"No pages nearby\"\n      ) : (\n        <ul>\n          {nearbyWikipediaPages.map(page => (\n            <li key={page.pageid}>\n              <a title={page.title} href={`http://en.wikipedia.org/?curid=${page.pageid}`}>\n                {page.title}\n              </a>\n            </li>\n          ))}\n        </ul>\n      )}\n    </section>\n  );\n}\n","import React from \"react\";\n\nimport Rating from \"../Rating\";\n\nexport default function RatingSection({ rating }) {\n  if (rating === undefined) {\n    return null;\n  }\n\n  return (\n    <section className=\"place-details__rating\">\n      <Rating rate={rating} /> ({rating})\n    </section>\n  );\n}\n","import PlaceDetails from \"./PlaceDetails\";\n\nexport default PlaceDetails;","import React from \"react\";\nimport _invoke from \"lodash/invoke\";\n\nimport \"./PlaceDetails.css\";\nimport WikipediaSection from \"./WikipediaSection\";\nimport RatingSection from \"./RatingSection\";\n\nexport default function PlaceDetails({ place, onClose }) {\n  if (!place) {\n    return null;\n  }\n\n  const photoUrl = _invoke(place, \"photos[0].getUrl\");\n\n  return (\n    <div\n      role=\"dialog\"\n      aria-label={`${place.name} details`}\n      aria-modal=\"true\"\n      className=\"place-details\"\n    >\n      <button aria-label=\"close\" className=\"place-details__close fas fa-times\" onClick={onClose} />\n      <div className=\"place-details__cover\">\n        {photoUrl && <img alt=\"place cover\" src={photoUrl} />}\n        <h1>{place.name}</h1>\n      </div>\n\n      <div className=\"place-details__content\">\n        <section>{place.formatted_address}</section>\n\n        <RatingSection rating={place.rating} />\n\n        <WikipediaSection nearbyWikipediaPages={place.nearbyWikipediaPages} />\n      </div>\n    </div>\n  );\n}\n","export default function createAction(type) {\n  return (payload) => ({ type, payload });\n}\n","export default {\n  encode: function(obj) {\n    const keys = Object.keys(obj);\n    return keys.reduce((qs, key, index) => {\n      const value = encodeURI(obj[key]);\n      qs += `${key}=${value}`;\n      \n      if (index < keys.length - 1) {\n        qs += \"&\";\n      }\n\n      return qs;\n    }, \"?\")\n  }\n}","import querystring from \"./querystring\";\n\nconst defaultOptions = {\n  headers: {\n    \"Content-type\": \"application/json\",\n    \"Accept\": \"application/json\"\n  }\n}\n\nexport async function getNearbyPages(lat, lng) {\n  const gscoord = `${lat}|${lng}`;\n  const qs = querystring.encode({\n    action: \"query\",\n    list: \"geosearch\",\n    gscoord,\n    gsradius: 1000,\n    gslimit: 5,\n    origin: \"*\",\n    format: \"json\"\n  });\n  const response = await fetch(\"https://en.wikipedia.org/w/api.php\"+qs, defaultOptions);\n  return response.json();\n}\n","import { useReducer, useEffect } from \"react\";\nimport _get from \"lodash/get\";\nimport createAction from \"../lib/createAction\";\nimport useGoogle from \"./useGoogle\";\n\nimport * as wikipedia from \"../lib/wikipedia\";\n\nconst MAP_INIT = \"MAP_INIT\";\nconst SEARCH_RESULT = \"SEARCH_RESULT\";\nconst PLACE_SELECTED = \"PLACE_SELECTED\";\nconst HIDE_PLACE_DETAILS = \"HIDE_PLACE_DETAILS\";\n\nexport const actions = {\n  initMap: createAction(MAP_INIT),\n  searchResult: createAction(SEARCH_RESULT),\n  placeSelected: createAction(PLACE_SELECTED),\n  hidePlaceDetails: createAction(HIDE_PLACE_DETAILS)\n};\n\nexport const selectors = {\n  getMap: state => state.map,\n  getShowPlaceDetails: state => state.showPlaceDetails,\n  getPlaceSelected: state => state.placeSelected,\n  getSearchResults: state => state.searchResults\n};\n\nconst options = {\n  center: { lat: -25.479, lng: -49.228 },\n  zoom: 15\n};\n\nconst initialState = {\n  map: null,\n  searchResults: [],\n  placeSelected: null,\n  showPlaceDetails: false\n};\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case MAP_INIT:\n      return { ...state, map: action.payload };\n    case SEARCH_RESULT:\n      return { ...state, searchResults: action.payload };\n    case PLACE_SELECTED:\n      return {\n        ...state,\n        placeSelected: action.payload,\n        showPlaceDetails: true\n      };\n    case HIDE_PLACE_DETAILS:\n      return { ...state, showPlaceDetails: false };\n    default:\n      return state;\n  }\n}\n\nexport default function useHomeReducer(mapRef) {\n  const google = useGoogle();\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const map = selectors.getMap(state);\n  const searchResult = selectors.getSearchResults(state);\n  const placeSelected = selectors.getPlaceSelected(state);\n\n  // Side effects\n  useEffect(() => {\n    dispatch(actions.initMap(new google.maps.Map(mapRef.current, options)));\n  }, []);\n\n  useEffect(\n    () => {\n      // If we only returned one result center on it\n      if (searchResult.length === 1) {\n        if (searchResult[0].geometry.viewport) {\n          map.fitBounds(searchResult[0].geometry.viewport);\n        } else {\n          map.setCenter(searchResult[0].geometry.location);\n          map.setZoom(17);\n        }\n      }\n    },\n    [searchResult]\n  );\n\n  useEffect(() => {\n    if (!map) return;\n\n    let mapLsr = map.addListener(\"click\", () =>\n      dispatch(actions.hidePlaceDetails())\n    );\n\n    return () => google.maps.event.removeListener(mapLsr);\n  });\n\n  useEffect(\n    () => {\n      if (placeSelected && !placeSelected.nearbyWikipediaPages) {\n        const location = placeSelected.geometry.location;\n        wikipedia\n          .getNearbyPages(location.lat(), location.lng())\n          .then(response => {\n            dispatch(\n              actions.placeSelected({\n                ...placeSelected,\n                nearbyWikipediaPages: _get(response, \"query.geosearch\")\n              })\n            );\n          });\n      }\n    },\n    [placeSelected]\n  );\n\n  return [state, dispatch];\n}\n","import Home from \"./Home\";\n\nexport default Home;\n","const libraries = [\"places\"];\n\nlet googleLoader;\n\nexport function init() {\n  if (!googleLoader) {\n    googleLoader = new Promise(resolve => {\n      window._initMap = () => resolve(window.google);\n\n      const tag = document.createElement(\"script\");\n      tag.src = `https://maps.googleapis.com/maps/api/js?key=${\n        process.env.REACT_APP_MAPS_API_KEY\n      }&libraries=${libraries.join(\",\")}&callback=_initMap`;\n      tag.defer = true;\n      tag.async = true;\n      document.body.appendChild(tag);\n    });\n  }\n\n  return googleLoader;\n}\n","import React, { useRef } from \"react\";\nimport { CSSTransition } from \"react-transition-group\";\n\nimport MainForm from \"../../modules/MainForm\";\nimport Map from \"../../modules/Map\";\n\nimport { MapsContextProvider } from \"../../hooks/useMap\";\n\nimport Marker from \"../../modules/Marker\";\nimport PlaceDetails from \"../../modules/PlaceDetails\";\nimport useHomeReducer, { actions, selectors } from \"../../hooks/useHomeReducer\";\n\nexport default function Home() {\n  const mapRef = useRef(null);\n  const [state, dispatch] = useHomeReducer(mapRef);\n\n  const handlePlacesResult = places => {\n    dispatch(actions.searchResult(places));\n  };\n\n  const handleMarkerClick = place => () => {\n    dispatch(actions.placeSelected(place));\n  };\n\n  const handlePlaceDetailsClose = () => {\n    dispatch(actions.hidePlaceDetails());\n  }\n\n  return (\n    <MapsContextProvider value={selectors.getMap(state)}>\n      <div className=\"home\">\n        {selectors.getMap(state) && (\n          <MainForm onPlacesResult={handlePlacesResult} />\n        )}\n\n        <Map ref={mapRef} />\n\n        {selectors.getSearchResults(state).map(place => (\n          <Marker\n            place={place}\n            location={place.geometry.location}\n            key={place.reference}\n            onClick={handleMarkerClick(place)}\n          />\n        ))}\n\n        <CSSTransition\n          in={selectors.getShowPlaceDetails(state)}\n          timeout={500}\n          classNames=\"place-details__animation\"\n          unmountOnExit\n        >\n          <PlaceDetails\n            place={selectors.getPlaceSelected(state)}\n            onClose={handlePlaceDetailsClose}\n          />\n        </CSSTransition>\n      </div>\n    </MapsContextProvider>\n  );\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.register();\n","import React, { useEffect, useState } from \"react\";\nimport \"./App.css\";\n\nimport Home from \"./pages/Home\";\nimport { GoogleContextProvider } from \"./hooks/useGoogle\";\nimport { init } from \"./lib/google-maps\";\n\nexport default function App() {\n  const [google, setGoogle] = useState();\n\n  useEffect(() => {\n    init().then(setGoogle);\n  }, []);\n\n  return (\n    <GoogleContextProvider value={google}>\n      {!google ? \"loading\" : <Home />}\n    </GoogleContextProvider>\n  );\n}\n"],"sourceRoot":""}